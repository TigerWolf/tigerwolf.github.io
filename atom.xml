<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Kierans Blog]]></title>
  <link href="http://TigerWolf.github.io/atom.xml" rel="self"/>
  <link href="http://TigerWolf.github.io/"/>
  <updated>2014-09-23T21:58:38+09:30</updated>
  <id>http://TigerWolf.github.io/</id>
  <author>
    <name><![CDATA[Kieran]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[RubyMotion Android Beta Tip]]></title>
    <link href="http://TigerWolf.github.io/2014/09/rubymotion-android-beta-tip/"/>
    <updated>2014-09-23T00:00:00+09:30</updated>
    <id>http://TigerWolf.github.io/2014/09/rubymotion-android-beta-tip</id>
    <content type="html"><![CDATA[<p>I have been trying out the new Android RubyMotion beta and have been trying out the code samples.</p>

<p>One thing I was frustrated about was having to keep putting the NDK and SDK path in the Rakefile. Here is a quick tip to make it easier.</p>

<p>Create a file somewhere like ~/motion/common.rb</p>

<p>`<br />
@app.sdk_path = &lsquo;/Android/sdk&rsquo;<br />
@app.ndk_path = &lsquo;/Android/ndk&rsquo;<br />
@app.api_version = &ldquo;19&rdquo;<br /></p>

<h1>other common configs<br /></h1>

<p>`</p>

<p>Inside the Rakefile for each app:</p>

<p>&#8220;<br />
$:.unshift(&ldquo;/Library/RubyMotionPre/lib&rdquo;)<br />
require &lsquo;motion/project/template/android&rsquo;</p></p>

<p><p>Motion::Project::App.setup do |app|<br />
  # Use `rake config&#8217; to see complete project settings.<br />
  app.name = &lsquo;Paint&rsquo;<br />
  @app = app<br />
  require &lsquo;~/motion/common.rb&rsquo;<br />
end<br />
&#8220;</p>

<p>If you have a better way to do it, post in the comments below.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Talk: Introduction to Mongodb and Mongoid]]></title>
    <link href="http://TigerWolf.github.io/2014/04/talk-introduction-to-mongodb-and-mongoid/"/>
    <updated>2014-04-02T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2014/04/talk-introduction-to-mongodb-and-mongoid</id>
    <content type="html"><![CDATA[<p>I did a talk recently at adelaide.rb and I thought I would share my talk notes, slides and code on my blog for you all to see. Click read more to see it all:</p>

<p><a href="https://github.com/TigerWolf/mongoid_presentation" title="https://github.com/TigerWolf/mongoid_presentation">https://github.com/TigerWolf/mongoid_presentation</a></p>

<!--more-->


<p><strong>Presentation notes</strong></p>

<p>So what is it? Its not quite like the relational databases that most of you would be familiar with like Postgres, Mysql and sqllite. Mongodb is a database that does a really good job of storing documents. Its classified as a NoSQL database and ditches the traditional table-like schema and instead uses JSON like structures. It is used by some major websites including: Craigslist, eBay, Foursquare, SourceForge, and The New York Times. Mongo is the most popular NoSQL database.</p>

<p>Why would you use it? Well mongodb was designed to be fast scalable and flexible. This is mostly because it doesn&#8217;t have relationships or a strict schema. It is also really easy to horizontally scale by adding more nodes. By design, a lot of the work and processing is done on the client (mongoid) over the db server. These design decisions all help keep it fast, scalable and flexible.</p>

<p>One of the cool things about Mongo is that the console is a javascript interpreter which would be familiar to a lot of you here today.</p>

<p>I am sure you are keen to see a demo! I will load up the console now and show you around.</p>

<p><em>See the git repository for the demo.</em></p>

<p>Now that I have shown you the awesomeness of mongodb. Lets check out mongoid, the ruby ORM for mongodb. The philosophy of Mongoid is to provide a familiar API to Ruby developers who have been using ActiveRecord of Data Mapper.</p>

<p>Mongoid community:<br/>
The mongoid community is quite abundant, you can join in at<br/>
It has Solid documentation at <a href="http://mongoid.org  ">http://mongoid.org  </a>
An active irc at #mongoid<br/>
Also a Mailing List <a href="http://groups.google.com/group/mongoid">http://groups.google.com/group/mongoid</a></p>

<p>It also hooks into Active Model, so you get all of the rails goodness. I will show you how to use all of these with Mongoid.</p>

<p>validations<br/>
mass assignment<br/>
serialization (like to_json)<br/>
scopes<br/>
callbacks<br/>
timestamps.<br/>
and many more.</p>

<p>Its also framework agnostic and will work with Sinatra or Padrino.</p>

<p>It also works alongside other ORM’s. For example ActiveRecord or DataMapper. You can create relationships between the two and easily model data that is better in a relational database separately. This allows for a lot of flexibility.</p>

<p>Some of the main features of the Mongoid gem are:</p>

<p>Its powerful query language. It will be familiar to ActiveRecord users. Here are some examples for querying a user. There is standard stuff like searching by name and also greater than and less than operators.</p>

<p>User.where(:name => &#8220;John&#8221;)<br/>
User.all(:age.lt => 24, :age.gt => 18)<br/>
User.where(:title.in => %w(Ms Mrs))</p>

<p>You can also search in sub documents, like the address of a person.</p>

<p>Person.where(&#8220;addresses.locations.name&#8221; => &#8220;Chicago&#8221;)</p>

<p>You can also set named scopes just like in activerecord:</p>

<p>class User<br/>
scope :active, :status => &#8216;active&#8217;<br/>
scope :over, :lambda { |age| where(:age.gt => age) }<br/>
end</p>

<p>User.where(:name => /^J/).active.over(40)</p>

<p>This makes it easy to clean up code where you use these queries regularly.</p>

<p>Validation</p>

<p>Mongoid includes ActiveModel::Validations to supply the basic validation as well as a associated and uniqueness validator.</p>

<p>Some examples:</p>

<p>validates_associated :episodes<br/>
validates :episodes, associated: true</p>

<p>Be aware that Mongoid only validates documents in memory.</p>

<p>validates_length_of :password, minimum: 8, maximum: 16<br/>
validates :password, length: { minimum: 8, maximum: 16 }</p>

<p>It also has the alternative syntax as you can see in the examples.</p>

<p>Another awesome feature of mongodb and mongoid is how it handles</p>

<p>Geospacial indexes</p>

<p>Say you had a set of geo locations that you wanted to store you could model them like so.</p>

<p>class Spot<br/>
include Mongoid::Document</p>

<p>field :name, :type => String<br/>
field :latlng, :type => Array</p>

<p>index [[:latlng, Mongo::GEO2D]]<br/>
end</p>

<p>Using this you could then create a location.</p>

<p>Ruby Spot.create( :name => &#8220;Majoran Distillery&#8221;, :latlng => [34.924349,138.600379] )</p>

<p>Using this location, and having others already stored in your database you can do</p>

<p>Spot.where(:latlng.near => majoran.latlng)</p>

<h1>=> [“Majoran Distillery”, ”Cibo”, “Westpac” ]</h1>

<p>Or also:</p>

<p>Bar.where(:likes.gt => 100).geo_near([ 50, 12 ]).spherical</p>

<p>There are some popular projects out there that use mongodb. Be sure to check out locomotive cms, Shapado a Q&amp;A style site and Graylog2 for sorting server logs.</p>

<p>Application Spotlight:</p>

<p>Now I will show you a demo application that makes use of Mongoid and displays a list of TV shows from a gem that I am currently working on. This is just a rough use case.</p>

<p>The interface is using angular js and calls the sinatra backend to display the list of TV shows.</p>

<p><em>See this is the git repository.</em></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[330]]></title>
    <link href="http://TigerWolf.github.io/2014/03/330/"/>
    <updated>2014-03-25T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2014/03/330</id>
    <content type="html"><![CDATA[<p>It was interesting to find out how they confirmed that MH370 crashed over the indian ocean.</p>

<p>The planes navigation system was communicating to a satellite even though the main transponder was turned off and it communicated every hour. The Satcom &#8220;which collects information such as location, altitude, heading and speed, and sends it through Inmarsat’s satellites into their network&#8221;. The signal didnt contain any gps or location data so the analysts used techniques never used before, using the doppler effect (which describes how a wave changes frequency relative to the movement of an observer) and mathematical analysis so they could work out where the plane last was before it crashed. It was suspected the plane was above 30,000ft before it crashed.</p>

<p>The challenge now will be finding the black box before the battery runs out for the device in the black box that &#8220;pings&#8221; its location. If they do find it then the challenge of recovering it from such great depths in sea that has strong currents and dangerous weather.</p>

<p><a href="http://kieranandrews.com.au/wp-content/uploads/2014/03/MH370_Mar17.jpg"><img src="http://kieranandrews.com.au/wp-content/uploads/2014/03/MH370_Mar17-265x300.jpg" alt="MH370_Mar17" width="265" height="300" class="alignnone size-medium wp-image-333" /></a></p>

<p><a href="http://m.smh.com.au/world/mh370-search-how-new-satellite-data-confirmed-malaysia-airlines-plane-was-lost-20140325-hvme8.html" title="http://m.smh.com.au/world/mh370-search-how-new-satellite-data-confirmed-malaysia-airlines-plane-was-lost-20140325-hvme8.html">http://m.smh.com.au/world/mh370-search-how-new-satellite-data-confirmed-malaysia-airlines-plane-was-lost-20140325-hvme8.html</a><br/>
<a href="http://www.gmanetwork.com/news/story/353977/scitech/technology/inmarsat-analyzed-mh370-pings-to-plot-final-route">http://www.gmanetwork.com/news/story/353977/scitech/technology/inmarsat-analyzed-mh370-pings-to-plot-final-route</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Constants]]></title>
    <link href="http://TigerWolf.github.io/2014/01/fun-with-ruby-constants/"/>
    <updated>2014-01-28T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2014/01/fun-with-ruby-constants</id>
    <content type="html"><![CDATA[<p>I was doing some refactoring recently and made some interesting discoveries about how constants work in ruby.</p>

<p>What tripped me up was how much of a mess this code made:</p>

<pre name="code" class="ruby">module Greetings
  COMMON_GREETINGS = { "hello" => "Hello!", "goodbye" => "Good bye." }
end

class Greetings::Welcome
  GREETINGS = COMMON_GREETINGS.merge! { "welcome" => "Welcome" }
end

class Greetings::Christmas
  GREETINGS = COMMON_GREETINGS.merge! { "hoho" => "Ho Ho, Merry Christmas" }
end
</pre>


<p>Can you spot the problems here? The first obvious one is merge with a bang, and the other I will explain below.</p>

<p><strong>What is a constant?</strong></p>

<p>Constants in ruby are anything starting with a capital letter. So class names are constants as well as all capital variables.</p>

<pre name="code" class="ruby">MAX_EXECUTION_TIME = "60"</pre>


<p>Constants aren&#8217;t completely similar in other language. For example in Java and PHP you cannot re-assign or change a constant. In ruby you can:</p>

<pre name="code" class="ruby">2.0.0-p353 :001 > GREETING = "hello"
 => "hello" 
2.0.0-p353 :002 > GREETING = "goodbye"
(irb):2: warning: already initialized constant GREETING
(irb):1: warning: previous definition of GREETING was here
 => "goodbye" 
2.0.0-p353 :003 > GREETING
 => "goodbye" 
</pre>


<p>Now you do get a warning, but its not an error and will not stop you from continuing. In the first example, the merge! actually modified the original constant so this was applied too all other classes using this constant.</p>

<p>There is one thing you can do if you want to ensure that the Object that the constant holds will not be modified, and that is by using the method freeze.</p>

<p><a href="http://ruby-doc.org/core-2.1.0/Object.html#method-i-freeze">http://ruby-doc.org/core-2.1.0/Object.html#method-i-freeze</a></p>

<pre name="code" class="ruby">2.0.0-p353 :001 > GREETING = "goodbye"
 => "goodbye" 
2.0.0-p353 :002 > GREETING.freeze
 => "goodbye" 
2.0.0-p353 :003 > GREETING &lt;&lt; " and hello"
RuntimeError: can't modify frozen String
    from (irb):3
    from /home/kieran/.rvm/rubies/ruby-2.0.0-p353/bin/irb:12:in `&lt;main>'
</pre>


<p>But as you can see below, the Constant is still able to be re-assigned (but still gives us the warning).</p>

<pre name="code" class="ruby">2.0.0-p353 :004 > GREETING = "goodbye and hello"
(irb):4: warning: already initialized constant GREETING
(irb):1: warning: previous definition of GREETING was here
 => "goodbye and hello" 
</pre>


<p>As pointed out by Andrew, you can freeze the class constant that an object refers to which will stop it from being modified.</p>

<pre name="code" class="ruby">class Foo
BAR = 1
end

# Works
class Foo
BAR = 2
end

Foo.freeze

# Doesn’t work
class Foo
BAR = 3
end
</pre>


<p>Some other useful things about class constants is how easily they can be accessed. Constants defined in a class can even be reached without creating an instance of the class. You can even dynamically call the constant if you have a reference to the Class variable that contains the constant. For example:</p>

<pre name="code" class="ruby">irb(main):005:0> class Work
irb(main):006:1> JOB = "Gardening"
irb(main):007:1> end
=> "Gardening"
irb(main):008:0> work = Work
=> Work
irb(main):009:0> work::JOB 
=> "Gardening"
</pre>


<p>Im still not certain on how useful constants are for settings that never change but I prefer using them to class methods that re-define hashes every time they are called or yaml files. They can sometimes make testing easier and other times harder.</p>

<p>Do you use constants much and how do you use them? Reply in the comments below.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A Story From Guild Wars 2]]></title>
    <link href="http://TigerWolf.github.io/2014/01/a-story-from-guild-wars-2/"/>
    <updated>2014-01-03T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2014/01/a-story-from-guild-wars-2</id>
    <content type="html"><![CDATA[<p>I really enjoy computer games, its my main form of entertainment in the evening and a great stress reliever. I get so much enjoyment out of it that I was inspired to write a short story from my perspective and I thought would share it with you. This is from Guild Wars 2 (some references are very game specific).</p>

<blockquote><p>I said my goodbyes the Militia on TeamSpeak and dropped my WvW Commander Tag, just after having defeated a Sanctum of Rall zerg.</p>

<p>What a good night, I thought.</p>

<p>A few weeks ago I got excited about some changes to WvW that I had missed and wanted to check them out. I had been enjoying the new Living Story content but wanted to do something a little different. I jumped into World vs World and the first thing I noticed was that on the Borderlands the lake is gone! This looked like a big change, but on further inspection its quite simple. Now in the middle of the map is a set of capture points that allow a server to get the upper hand if they capture 3 of the 5 points. I was told on TeamSpeak that this was to replace the old orb system.</p>

<p>I have been venturing onto BlackGate TeamSpeak server recently and its not as scary as I thought. I joined the channel for the borderland map I was on and I was pleasantly surprised by the commander which was on this same map. His name was Cuddlepie and had a good manner, running alongside him we ventured into enemy territory. We faced a big zerg almost twice our size that I thought we woudlnt be able to take on. Cuddlepie kept his cool and issued commands, like &#8220;head to the left then split them in half&#8221;, &#8220;take it to their backlines&#8221;. With his focus and strategy we where able to take down the entire zerg. What a rush!</p>

<p>We continued on and took several towers and keeps. I had a really good night. Later in the week I joined again and where greeted by another commander from a guild called KING and he had a different game plan. We defended garrison from several attacks and got lots of badges. There feels like they is always some action and some really good commanders that I feel like our strong ties with BlackGate WvW community are such an untapped resource.</p>

<p>Tonight, I jumped in and we where getting smashed by Jade Quarry. The commander tonight was Stellioz. I noticed the he has a philippines accent (I didnt know for a long while) and got really excited about WvW and showed some great skill in open field battles. The night continued on and I really enjoyed by time. He had to grab some dinner and we where left without a commander. I decided that I would give it a go, even though I didnt feel completely confident that I knew all of the current intel in WvW, I did it anyway as there where 5 Resonance online and in BlackGate TS so I thought &#8220;Why not?&#8221;. We where outnumbered and we took a few camps. We tried some things like some ninja trebs but the scouts where on to our plan. Later we defended our Tower several times against both Sancum and Jade. We responded to a Treb and took it out and saved our tower! Just as we saved our tower from an invading group we spotted a zerg bigger than ours.</p>

<p>We didnt have many numbers at this time in the night and I wasnt sure we where able to take them on. We tracked them to a chocked point. Then we engaged them once and they rallied behind the tower. Just as things go quiet, Stellioz came back from dinner and jumped in too. We spotted another group, this time bigger than the last! Stellioz said we could take them and offered some comments on how we would engage them.</p>

<p>We where off!</p>

<p>Running right into the thick of the battle, dropping some fire for might and blasting it on our way through. We focused the back lines and taking out the elles and the necros. A few of us dropped and our warriors threw down banners getting our downed up. It finally looked like we would win! We cleaned up the rest some backing and frowing and we took out the zerg.</p>

<p>The end.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Map Reduce: My Recent Talk]]></title>
    <link href="http://TigerWolf.github.io/2013/11/map-reduce-my-recent-talk/"/>
    <updated>2013-11-11T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2013/11/map-reduce-my-recent-talk</id>
    <content type="html"><![CDATA[<p>I recently made a talk for Map Reduce with a focus on Ruby.</p>

<p>You can see the slideshow here</p>

<p><a title="http://slid.es/kieranandrews/map-reduce-in-ruby" href="http://slid.es/kieranandrews/map-reduce-in-ruby" target="_blank"></p> <p>
  <a href="http://slid.es/kieranandrews/map-reduce-in-ruby">http://slid.es/kieranandrews/map-reduce-in-ruby</a></a>
</p></p>

<p>
  <!--more-->
</p>




<p>
  I presented the slide at Adelaide.rb Meetup and at work.
</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Mystical &#8220;Tableless&#8221; Model for Rails]]></title>
    <link href="http://TigerWolf.github.io/2013/09/the-mystical-tableless-model-for-rails/"/>
    <updated>2013-09-11T00:00:00+09:30</updated>
    <id>http://TigerWolf.github.io/2013/09/the-mystical-tableless-model-for-rails</id>
    <content type="html"><![CDATA[<p>I had a bright idea for an improvement for the app I am currently working on. I have a Rails model that has only 2 rows in the database and the data is never changed, it has quite a lot of relationships and is used quite extensively. My idea was to remove the database out of the equasion and create a Model that would be entirely self dependent. Here I will show you my methods of maddness:</p>

<pre class="rails">def MyModel



  include ActiveModel::Validations

  include ActiveModel::Conversion

  extend ActiveModel::Naming



  def self.attr_accessor(*vars)

    @attributes ||= []

    @attributes.concat( vars )

    super

  end



  def self.attributes

   @attributes

  end



  def initialize(attributes={})

   attributes &#038;&#038; attributes.each do |name, value|

     send("#{name}=", value) if respond_to? name.to_sym

   end

  end



  def persisted?

    false

  end



  def self.inspect

    "#&lt;#{ self.to_s} #{ self.attributes.collect{ |e| ":#{ e }" }.join(', ') }>"

  end



end

</pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My Startup Weekend in Adelaide]]></title>
    <link href="http://TigerWolf.github.io/2012/12/startup-weekend-adelaide-my-experiences/"/>
    <updated>2012-12-14T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2012/12/startup-weekend-adelaide-my-experiences</id>
    <content type="html"><![CDATA[<p>I recently attended <a href="http://adelaide.startupweekend.org/">startup weekend in Adelaide</a>. I was really excited because it would be a good opportunity to build something and test my new skills I had learn recently <a href="http://tryruby.org/levels/1/challenges/0">programming ruby</a> (and using rails).</p>

<p>The weekend started on Friday night where attendees had the chance to pitch their ideas in a quick 1 minute pitch. There where some exciting ones. The ones that stood out for me was a pitch about a rating system for health care professionals , a iPhone app to find and rate pubic toilets and a coffee rating app.</p>

<p>I decided to join the team doing rating and listing of health care as I though this would be really useful for lot of people if it was successful and seemed like something I could help and build a great MVP.</p>

<p>On the Saturday, after having formed our team on the Friday night, we where all ready to go. We had a really large group which became quite hard to manage at the start, we decided to break the group up into technology (MVP) and business so we would all.</p>

<p>In creating the initial product and setting up a starting point I made a few mistakes with setting up my project. Something that I found really useful and saved me a lot of trouble, was a ruby gem called <a href="https://github.com/RailsApps/rails-composer">Composer</a>. It gets a project up and running really quickly by asking you a series of questions of things that you might want to add to your project, like <a href="https://github.com/plataformatec/devise">Devise</a> for auth and <a href="http://twitter.github.com/bootstrap/">Twitter bootstrap</a>.</p>

<p>Wanting to get something up and running really quickly, Luke in our group recommended Heroku. I had never used it before but wanted to give it a go. I was really impressed! All you need to go is install the Heroku gem on your computer, run heroku init on the project and then type git push heroku and it is deployed in a matter of minutes! It runs bundle and install all of the gems in the gemfile and then spins up a server.</p>

<p>One of the elements of the weekend that I really enjoyed was the mentors  that came to each group and provided insight into the various aspects of our project and how we could improve. This was really interesting to hear.</p>

<p>I made quite a bit of progress with the app and by the end I was able to make a simple way to lookup a directory of health care professionals. We used the app in our pitch at the end of the weekend. The other pitches where really good to watch and to see what all of the other teams had come up with over the weekend.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PHP Debugging]]></title>
    <link href="http://TigerWolf.github.io/2012/08/php-debugging/"/>
    <updated>2012-08-15T00:00:00+09:30</updated>
    <id>http://TigerWolf.github.io/2012/08/php-debugging</id>
    <content type="html"><![CDATA[<p>Recently while working on a particular project we had some strange errors that came up. In the usual php like way, the error messages where not very helpful and didn&#8217;t allude to what the actual problem was. Have you seen an error like this before?</p>

<p><strong>Headers Already Sent on line 392<br/>
</strong></p>

<p><strong>Invalid argument supplied for foreach()</strong>&#8230;</p>

<p>Well, this handy functionality that I discovered in php made my life easier.</p>

<p><code>var_dump(debug_backtrace()); die;</code></p>

<p>I placed this right before the code that was complaining, and it allowed me to see where this function was being called from. I was then quickly able to fix the problem and be on my merry way.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Yii and Authorization Rules (RBAC)]]></title>
    <link href="http://TigerWolf.github.io/2012/04/yii-and-authorization-rules-rbac/"/>
    <updated>2012-04-17T00:00:00+09:30</updated>
    <id>http://TigerWolf.github.io/2012/04/yii-and-authorization-rules-rbac</id>
    <content type="html"><![CDATA[<p>One thing that has recently puzzled me with my discoveries of the Yii PHP framework is to do with how authentication rules work. (In particular RBAC)</p>

<p>I have been recently working on a big project for work that is quite complex with quite a few different systems that are all connected to each other. It also supports different devices, like the iPad and the iPhone. For this app it is important to restrict a user to a particular set of assets (that they create) and share these with other users in their company. To implement this, I stared by looking into the standard approach recommended by Yii documentation and that is the <a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.auth">Authorization Component</a>. On the implementation level, You have the option of either doing rules based on a file (<a href="http://www.yiiframework.com/doc/api/1.1/CPhpAuthManager">CPHPAuthManager</a>) or using a database backend (<a href="http://www.yiiframework.com/doc/api/1.1/CDbAuthManager">CDbAuthManager</a>).</p>

<p>After doing a bit of research, using the CPHPAuthManager for a large application is a bad idea. Everything is stored in a file and every time a access rule needs to be evaluated, this file will need to be checked. Also all role assignments are stored here, so if you have a large amount of users then there will be a lot of information stored in this file. This would make it unmanageable and wouldn&#8217;t scale very well for bigger applications.</p>

<p>It appears that CDbAuthManager would be the solution. What it does is store all of your access rules in the database. The auth manager will generate a pre-built database schema that Yii provides. The first thing I found was the component that is available in the Yii repositories called <a href="http://www.yiiframework.com/extension/rights/">yii-rights</a>. This extension allows you to manage your Authorization within the app and create access rules as needed. The problem with this is that its all held in the database and I would be deploying this application to the production server after testing it on the staging server and did not want to have to create access rules in both instances and have to update them every time we made any changes to the rules.</p>

<p>This is where we came up with the idea of using a console command to create all of our access rules. Yii has a great system for creating console commands you can run on the server, if you want to learn more, <a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.console">check this out</a>. This console command creates all of our access rules when run and stored them in the database so that we can version control our access rules and have them in one central place.</p>

<p>The problem I have with out current system is that the access rules have business rules that are evaluations to check the current user against the part of the system they are trying to access or modify. What I dont like is that the access rules are in the database and then eval&#8217;d by php at runtime. Now this is a bad idea and most in the php community would tell you to stay away from eval for most things. The question I have is, is this used well or could it have been done better?</p>

<p>If you have something to share that might shed some light on what I might have missed or another way to do it, post your comments below or post to my question on stackoverflow: <a href="http://stackoverflow.com/questions/9597287/what-is-the-reason-for-having-authorization-rules-in-the-database-in-yii-applica">http://stackoverflow.com/questions/9597287/what-is-the-reason-for-having-authorization-rules-in-the-database-in-yii-applica</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[jQuery Scrolling Box]]></title>
    <link href="http://TigerWolf.github.io/2011/03/jquery-scrolling-box/"/>
    <updated>2011-03-07T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2011/03/jquery-scrolling-box</id>
    <content type="html"><![CDATA[<p>I am currently working on a website that requires some scrollable elements on it. The design specification is to do away with the scroll bars to allow for a better more simplistic design. Now I remember this being done in the past in flash, but I wasn&#8217;t going to be using flash. So naturally I went out to find a jQuery solution. In most cases doing a google search or <a href="http://stackoverflow.com">stackoverflow</a> search finds some code that needs some tweaking and then away we go, but this time I couldn&#8217;t find anything! So I created my own and thought I would share it.</p>

<p>Go straight to the demo: <a href="http://jsbin.com/azoji3">http://jsbin.com/azoji3</a><br/>
Full Source Code: <a href="http://jsbin.com/azoji3/edit">http://jsbin.com/azoji3/edit</a><br/>
An Example illustration:</p>

<p><a href="http://seekieran.com/wp-content/uploads/2011/03/example.jpg"><img src="http://seekieran.com/wp-content/uploads/2011/03/example.jpg" alt="" title="example" width="148" height="185" class="alignnone size-full wp-image-98" /></a><br/>
I got my inspiration from this question: <a href="http://stackoverflow.com/q/1193414/359736">http://stackoverflow.com/q/1193414/359736</a></p>

<p>First up is the mousedown event to capture the clicking of the down arrow. This will call the function that will actually scroll down the div and it also keeps track of the mousedown.</p>

<pre name="code" class="javascript">$('.dn').mousedown(function(event) {
    mouseisdown = true;
    ScrollDown();
}).mouseup(function(event) {
    mouseisdown = false;
});</pre>


<p>This is where the fun comes in, this part is recursive (I know everyone loves recursion!). This is so you can hold down the mouse and keep it scrolling continuously. It will also check when it reaches the bottom.</p>

<pre name="code" class="javascript">function ScrollDown(){

  //var topVal = $('.up').parents(".container").find(".content").css("top").replace(/[^-\d\.]/g, '');
  var topVal = $(".content").css("top").replace(/[^-\d\.]/g, '');
    topVal = parseInt(topVal);
  console.log($(".content").height()+ " " + topVal);
  if(Math.abs(topVal) &lt; ($(".content").height() - $(".container").height() + 60)){ //This is to limit the bottom of the scrolling - add extra to compensate for issues
  $('.up').parents(".container").find(".content").stop().animate({"top":topVal - 20  + 'px'},'slow');
    if (mouseisdown)
setTimeout(ScrollDown, 400);
  }</pre>


<p><strong>Mouse scrolling</strong></p>

<p>Now I also wanted the user to be able to scroll the mouse and it scroll the content. To enable the detection of scrolling in jquery, it requires the library from here <a href="http://github.com/brandonaaron/jquery-mousewheel">http://github.com/brandonaaron/jquery-mousewheel</a>. Then I did the same scrolling action as above.</p>

<pre name="code" class="javascript">$('.container').mousewheel(function(event, delta, deltaX, deltaY) {
   // console.log('mouse'+ delta, deltaX, deltaY);

  if(delta &lt; 0){ //Scroll down       var topVal = $('.up').parents(".container").find(".content").css("top").replace(/[^-\d\.]/g, '');     console.log('lol');     topVal = parseInt(topVal);     $('.up').parents(".container").find(".content").stop().animate({"top":topVal + (deltaY * 10)  + 'px'},'slow');   }     if(delta &gt; 0){ //Scroll up
      var topVal = $('.up').parents(".container").find(".content").css("top").replace(/[^-\d\.]/g, '');
    topVal = parseInt(topVal);
    $('.up').parents(".container").find(".content").stop().animate({"top":topVal - (-deltaY * 10)  + 'px'},'slow');
  }

});</pre>


<p>I know its not the most optimized code and could do with some better selectors but I am very happy with it at the moment that it will do the job and be a part of this exciting website im working on. Feel free to make comments or ask questions, and suggestions are welcome and ill be updating this with any tweaks I can find.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Web Development]]></title>
    <link href="http://TigerWolf.github.io/2011/02/web-development/"/>
    <updated>2011-02-14T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2011/02/web-development</id>
    <content type="html"><![CDATA[<p>I am currently really enjoying working at Bigwig wired in Adelaide doing web development for them. I really enjoy working with a team of designers and then turning the designs into reality and integrating them into CMS&#8217; for clients.</p>

<p>I have very quickly accelerated my knowledge of css, and JavaScript (mainly jQuery) in a small time as there is a big variety in the types of clients and websites that we work on, its definitely a skill to use the latest development techniques but to also keep in mind how it will look in the older browsers like IE7 (we don&#8217;t worry about IE6 unless a client specifically requests it). jQuery is definitely an awesome tool for writing JavaScript really quickly and cross browser. I hope as a developer it doesn&#8217;t make me too lazy.</p>

<p>I really enjoy the culture of Bigwig and I&#8217;m coming to grips with a high paced environment where things need to be done but also done with a focus on high detail. Its not all hard work thought, we also fit in the jokes and conversations around the pool table and bar.</p>

<p>I am very happy with things and always finding new areas within web development to keep me interested. Lets see how things go and im excited to be writing about them in the future. Im not keen to work on some tools to make the process more efficient and faster within this environment.</p>

<p>Cheers, Kieran Andrews.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Codeigniter and Netbeans]]></title>
    <link href="http://TigerWolf.github.io/2010/08/codeigniter-and-netbeans/"/>
    <updated>2010-08-29T00:00:00+09:30</updated>
    <id>http://TigerWolf.github.io/2010/08/codeigniter-and-netbeans</id>
    <content type="html"><![CDATA[<p>I have recently stumbled on some really awesome tools, Code Igniter and Netbeans IDE for PHP development. I&#8217;ve used eclipse for Java development through uni and found it really great. After finishing that I found that using eclipse for PHP just was too slow and didn&#8217;t have the right tools for the job.</p>

<p>I used dreamweaver for a while but then stumbled on Netbeans and I am really amazed at how it works and so well. The features I love the most are bracket matching, div matching &#8211; this is where you select a div or bracket and it highlights the end tag or bracket.</p>

<p>It also does really good code highlighting with php and JavaScript and HTML even if they are all in the same file. It&#8217;s not all good though, I found the tag completion annoying and unintuitive so I turned it off but it&#8217;s not a big deal.</p>

<p>Codeigniter is really an amazing PHP framework, it has really sped up my development time and was a great help on a recent project I worked on with a shopping cart. It was really easy to pick up and easy as soon I as understood the whole MVC (Model View Controller) thing, it make a lot of sence to have the database code in the model, the view stuff in the view and then the controller in the middle to handle all of the things inbetween.</p>

<p>I will be definately be using it for a lot more projects and there is a great community support for it with a lot of people using it and backed by a company that also sells a CMS called Expression Engine. Codeigniter 2.0 should be coming out soonish and that will be interesting when it does.</p>

<p>Now that this project is over and im now working on more web design we shall see where it takes me and the interesting discoverys I make along the way.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vancouver]]></title>
    <link href="http://TigerWolf.github.io/2009/12/vancouver/"/>
    <updated>2009-12-20T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2009/12/vancouver</id>
    <content type="html"><![CDATA[<p>Vancouver is an amazing city. So alive and vibrant. It has an arty feel to it. Its bigger than Adelaide but the main shopping areas felt emptier and less alive compared to say Rundle Mall in Adelaide.</p>

<p>I spent most of my time in Granville St in the Samesun backpackers hostel. It was a great stopover point until my journey up to Whistler. Lots of international visitors and people in similar situations, trying to find themselves in this amazing city.</p>

<p>At night time, the street came alive, with party goers heading to clubs and homeless people in search of donations in return for their various antics, be it card tricks or music made with spoons. Granville St near the backpackers is a dirty street but that gives it that character. It was cleaned up for the Olympics but there was still a lot of construction.</p>

<p>In contrast to this Stanley park is so lush and amazingly beautiful. You are in this busy city and you can walk right into a rain forest and I was amazed at how you could escape to this other world within a city. I really enjoyed the walk around the sea wall that so many Vancouverites make regularly and check out all of the lakes and towering trees that make this place their home.</p>

<p>I almost immediately fell in love with the country&#8217;s most famous sport, Hockey (which we call Ice Hockey). Joining some mates I met at the hostel, when a game was on we ventured to a local pub and followed the game. It was an easy game to pick up and watch.</p>

<p>When it was time to leave this place and venture to my next destination, I hopped on my bus and continued on my journey on the sea to sky highway up through the mountains to Whistler.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Seattle Part 2]]></title>
    <link href="http://TigerWolf.github.io/2009/12/seattle-part-2/"/>
    <updated>2009-12-02T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2009/12/seattle-part-2</id>
    <content type="html"><![CDATA[<ul>
<li><p><div id='gallery-1' class='gallery galleryid-27 gallery-columns-3 gallery-size-thumbnail'>
<dl class='gallery-item'>
  <dt class='gallery-icon portrait'>
    <a href='http://kieranandrews.com.au/2009/12/seattle-part-2/p1000151_small/'><img width="150" height="150" src="http://kieranandrews.com.au/wp-content/uploads/2009/12/P1000151_small-150x150.gif" class="attachment-thumbnail" alt="P1000151_small" /></a>
  </dt>
</dl></p>

<p><br style='clear: both' />
</div></p></p></li>
</ul>


<p></em></p>

<ul>
<li><p>*</p></li>
<li><p>*</p></li>
</ul>


<p><em>Finally had some time to get my notes and write up about some of my past adventures, more to come!</em></p>

<p>The next day I took the bus into Seattle after figuring it out. Its been a lot harder navigating around here without having internet on my phone as Ive become used to in Australia. Finding my way around Melbourne was easy as I could always pull up a bus timetable or web page about a place I wanted to visit. It was a long trip over the river on the bus but there where some amazing sights and seeing the Seattle skyline was great.</p>

<p>I didnt know where to get off so I got off the biggest station (University St) and started walking around on a quest I would find a shopping area or something interesting. I had a great walk, starting in a rich area with lots of high rise buildings and slowly noticing the places get smaller as I headed towards the coast, where I spotted a soup kitchen. Then I headed sideways up the kill into a China town area and then managed to get back to a different rich area where I could see lots of fancy hotels and fancy shops of big brands id heard of before. I found a monorail and walked along side of it and found my way to the Space Needle!</p>

<p>The space needle was a great, it wasnt very busy. I didnt go up as I didnt see much point.  Right below the space needle there is a science fiction museum and  a music exploration museum focusing on jimmy hendrix. They where both very cool.</p>

<p>The money in america is wierd, $1 notes are crazy and they are just on crappy paper. Also getting used to tips is wierd for me too.</p>

<p>When I was in seattle I also checked out a few shops, the prices in america are awesome but Im saving all of my money up for Whistler. I bought my snowboard in Seattle at snowboard connection. They where heaps friendly and I got an awesome deal, and offered me a beer too! I was there for ages getting the perfect setup. I now have a K2 Darkside (Snowboard), Ride bindings and some sweet K2 boots that are so counfy. Some pics will be up later.</p>

<p>Seattle was awesome and Ill have to go back there some time. Thanks K T for giving me a place to crash and for the awesome ride up to Whistler.</p>

<p>Stay tuned for the next update! VANCOUVER!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Update]]></title>
    <link href="http://TigerWolf.github.io/2009/11/update/"/>
    <updated>2009-11-25T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2009/11/update</id>
    <content type="html"><![CDATA[<p>Hey Everyone,</p>

<p>Haven&#8217;t kept you all updated on what I&#8217;ve been doing so here&#8217;s a quick update. I&#8217;m currently typing this on my phone as the Internet here is so bad that the phone Internet is actually better! My flatmates and I have ordered telus which should be good when it gets here.</p>

<p>I&#8217;ve been extremely busy with things and been having such a great time that&#8217;s it&#8217;s been hard to force myself to sit in front of a computer when there are so many amazing things to do. At some stage I will be able to go through all my notes and write up all the stories between now and my last post, hopefully that isn&#8217;t if I get injured and don&#8217;t have anything else to do, lol.</p>

<p>Every day if I&#8217;m not working I&#8217;ll wake up at 7 and then head down the staff hill to catch the first gondola in the morning. I&#8217;ll be snowboarding all day till 3 and then trek back up the staff hill (it&#8217;s about 500m of constant incline, I call it gym hill as it&#8217;s a workout. There is a bus that goes up but it costs $2 and I really enjoy the excercise.)</p>

<p>I don&#8217;t have a constant roster yet but I&#8217;m working at rendevouz restuarant on blackcomb mountain, which opens on Thursday.</p>

<p>Well I gotta get some sleep now as it&#8217;s 3am. Stay tuned for more updates.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello Seattle! Part 1.]]></title>
    <link href="http://TigerWolf.github.io/2009/10/hello-seattle-part-1/"/>
    <updated>2009-10-29T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2009/10/hello-seattle-part-1</id>
    <content type="html"><![CDATA[<p>Wow! It has been a crazy last few days of new places, experiences, customs, adventures and fun.</p>

<p>I quite enjoy flights and the one to Vancouver wasn&#8217;t an exception, I flew to New Zealand first where I had a small stay before enbarking on my next flight. They had a burger king with a burger with BBQ sauce and onion rings in it! Very tasty and nothing like HJ&#8217;s at home. While disembarking I had one of those random explosives checks and I thought<em> I&#8217;ll be fine I do these all the time at home</em>, but it came up positive! I thought I would be questioned and miss my flight (that will teach me for trying to take grenades in my hand luggage in case we crash landed on some desert island with crazy natives&#8230;..</p>

<p>An older guy was called over and they did another test and I was told that I was fine to go after giving them my details. In a word, relieved. The next flight was to Canada and took 13 hours. It was great flying with Air New Zealand, I always laugh at the safety videos due to the accent (for the parents: but still paid careful attention to where the safety exits where). I actually got quite a bit of sleep on the plane which was nice and watched a few TV shows on their cool entertainment systems that let you choose what you want to watch.</p>

<p>Landing in Vancouver came with the realisation that I was on the other side of the world! Greeted by rain and overcast weather, I knew I was at my final destination. Before leaving the flight I met up with some people that were heading to the same place I was, we all entertained each other through customs and bag collection then left together and figured out our way into town.</p>

<p>Vancouver is an interesting city, lots of water and lots of construction too. I havent really seen it well yet but I know I will. I headed to the backpackers with my new friends and found out that I wasnt booked there and they where booked out, as I had a booking there for the 4th when I would come back to Vancouver, I had a choice to make, find somewhere else to stay or head straight to Seattle (my next stop). Cut a long story short, after some confusion and figuring out how to use the trains, I took the train to Seattle to meet up with a friend there called K T.</p>

<p>The train ride was very fun. I had nearly had enough of traveling at this stage. I enjoyed the Canadian hospitality and the driver anouncements where interesting and nothing like I have ever heard before, someone that sounded like they loved their job and knew they people actually cared about where the train was going or the next stop.</p>

<p>Greeted at 10pm by my friend at the Train station we drove (on the wrong side of the road) to her place in Kirkland which is over the river. A very nice place. We caught up after not seeing each other for quite a few years when she visited Australia and I met her boyfriend Joe and their lovely Husky dog! Husky dogs are more at place here and I always wonder how hot they get when living in Australia.</p>

<p>Slept in as I was exausted and went for a walk around Lake, which was beautiful. All of the trees are all different colours of orange in their Autum glory next to a massive lake with lots of life and ducks. I finally felt I was somewhere familiar and refreshed, ready for more adventures to come&#8230;</p>

<p>Tune in for next post where I talk about Seattle, where I meet friendly homeless people and feel like im in an American sitcom.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Surprise!]]></title>
    <link href="http://TigerWolf.github.io/2009/10/suprise/"/>
    <updated>2009-10-14T00:00:00+10:30</updated>
    <id>http://TigerWolf.github.io/2009/10/suprise</id>
    <content type="html"><![CDATA[<p>Wow! Just had the most amazing surprise party pulled on me.</p>

<p>If you didnt know, im heading to Canada on a working holiday for 7 months with a little bit of travel at the start and end to see USA. I have a job as a food station server at the Whistler Blackcomb ski resort in the state of British Columbia.</p>

<p>Without me knowing, my girlfriend Elysia organised a suprise going away party for me! I thought I was going over to join the family for a Sunday dinner when I was greeted by a huge crowd all yelling suprise! I was so shocked I had no idea what to say or do.</p>

<p>It was great to see all of my friends that turned up to wish me well and a few faces I hadn&#8217;t seen in a while. Thanks for coming everyone! There where so many people to chat to and I had a fantastic time.</p>

<p>Not long till I leave now (25th of October). I&#8217;ll be posting more updates as the holiday continues.</p>

<p>That&#8217;s it for now, Kieran</p>
]]></content>
  </entry>
  
</feed>
