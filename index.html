
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kierans Blog</title>
  <meta name="author" content="Kieran">

  
  <meta name="description" content="I have been trying out the new Android RubyMotion beta and have been trying out the code samples. One thing I was frustrated about was having to keep &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://TigerWolf.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Kierans Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Kierans Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:TigerWolf.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/09/rubymotion-android-beta-tip/">RubyMotion Android Beta Tip</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-09-23T00:00:00+09:30'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have been trying out the new Android RubyMotion beta and have been trying out the code samples.</p>

<p>One thing I was frustrated about was having to keep putting the NDK and SDK path in the Rakefile. Here is a quick tip to make it easier.</p>

<p>Create a file somewhere like ~/motion/common.rb</p>

<p>`<br />
@app.sdk_path = &lsquo;/Android/sdk&rsquo;<br />
@app.ndk_path = &lsquo;/Android/ndk&rsquo;<br />
@app.api_version = &ldquo;19&rdquo;<br /></p>

<h1>other common configs<br /></h1>

<p>`</p>

<p>Inside the Rakefile for each app:</p>

<p>&#8220;<br />
$:.unshift(&ldquo;/Library/RubyMotionPre/lib&rdquo;)<br />
require &lsquo;motion/project/template/android&rsquo;</p></p>

<p><p>Motion::Project::App.setup do |app|<br />
  # Use `rake config&#8217; to see complete project settings.<br />
  app.name = &lsquo;Paint&rsquo;<br />
  @app = app<br />
  require &lsquo;~/motion/common.rb&rsquo;<br />
end<br />
&#8220;</p>

<p>If you have a better way to do it, post in the comments below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/04/talk-introduction-to-mongodb-and-mongoid/">Talk: Introduction to Mongodb and Mongoid</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-04-02T00:00:00+10:30'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2014</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I did a talk recently at adelaide.rb and I thought I would share my talk notes, slides and code on my blog for you all to see. Click read more to see it all:</p>

<p><a href="https://github.com/TigerWolf/mongoid_presentation" title="https://github.com/TigerWolf/mongoid_presentation">https://github.com/TigerWolf/mongoid_presentation</a></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2014/04/talk-introduction-to-mongodb-and-mongoid/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/03/330/">330</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-03-25T00:00:00+10:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It was interesting to find out how they confirmed that MH370 crashed over the indian ocean.</p>

<p>The planes navigation system was communicating to a satellite even though the main transponder was turned off and it communicated every hour. The Satcom &#8220;which collects information such as location, altitude, heading and speed, and sends it through Inmarsatâ€™s satellites into their network&#8221;. The signal didnt contain any gps or location data so the analysts used techniques never used before, using the doppler effect (which describes how a wave changes frequency relative to the movement of an observer) and mathematical analysis so they could work out where the plane last was before it crashed. It was suspected the plane was above 30,000ft before it crashed.</p>

<p>The challenge now will be finding the black box before the battery runs out for the device in the black box that &#8220;pings&#8221; its location. If they do find it then the challenge of recovering it from such great depths in sea that has strong currents and dangerous weather.</p>

<p><a href="http://kieranandrews.com.au/wp-content/uploads/2014/03/MH370_Mar17.jpg"><img src="http://kieranandrews.com.au/wp-content/uploads/2014/03/MH370_Mar17-265x300.jpg" alt="MH370_Mar17" width="265" height="300" class="alignnone size-medium wp-image-333" /></a></p>

<p><a href="http://m.smh.com.au/world/mh370-search-how-new-satellite-data-confirmed-malaysia-airlines-plane-was-lost-20140325-hvme8.html" title="http://m.smh.com.au/world/mh370-search-how-new-satellite-data-confirmed-malaysia-airlines-plane-was-lost-20140325-hvme8.html">http://m.smh.com.au/world/mh370-search-how-new-satellite-data-confirmed-malaysia-airlines-plane-was-lost-20140325-hvme8.html</a><br/>
<a href="http://www.gmanetwork.com/news/story/353977/scitech/technology/inmarsat-analyzed-mh370-pings-to-plot-final-route">http://www.gmanetwork.com/news/story/353977/scitech/technology/inmarsat-analyzed-mh370-pings-to-plot-final-route</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/01/fun-with-ruby-constants/">Ruby Constants</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-28T00:00:00+10:30'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was doing some refactoring recently and made some interesting discoveries about how constants work in ruby.</p>

<p>What tripped me up was how much of a mess this code made:</p>

<pre name="code" class="ruby">module Greetings
  COMMON_GREETINGS = { "hello" => "Hello!", "goodbye" => "Good bye." }
end

class Greetings::Welcome
  GREETINGS = COMMON_GREETINGS.merge! { "welcome" => "Welcome" }
end

class Greetings::Christmas
  GREETINGS = COMMON_GREETINGS.merge! { "hoho" => "Ho Ho, Merry Christmas" }
end
</pre>


<p>Can you spot the problems here? The first obvious one is merge with a bang, and the other I will explain below.</p>

<p><strong>What is a constant?</strong></p>

<p>Constants in ruby are anything starting with a capital letter. So class names are constants as well as all capital variables.</p>

<pre name="code" class="ruby">MAX_EXECUTION_TIME = "60"</pre>


<p>Constants aren&#8217;t completely similar in other language. For example in Java and PHP you cannot re-assign or change a constant. In ruby you can:</p>

<pre name="code" class="ruby">2.0.0-p353 :001 > GREETING = "hello"
 => "hello" 
2.0.0-p353 :002 > GREETING = "goodbye"
(irb):2: warning: already initialized constant GREETING
(irb):1: warning: previous definition of GREETING was here
 => "goodbye" 
2.0.0-p353 :003 > GREETING
 => "goodbye" 
</pre>


<p>Now you do get a warning, but its not an error and will not stop you from continuing. In the first example, the merge! actually modified the original constant so this was applied too all other classes using this constant.</p>

<p>There is one thing you can do if you want to ensure that the Object that the constant holds will not be modified, and that is by using the method freeze.</p>

<p><a href="http://ruby-doc.org/core-2.1.0/Object.html#method-i-freeze">http://ruby-doc.org/core-2.1.0/Object.html#method-i-freeze</a></p>

<pre name="code" class="ruby">2.0.0-p353 :001 > GREETING = "goodbye"
 => "goodbye" 
2.0.0-p353 :002 > GREETING.freeze
 => "goodbye" 
2.0.0-p353 :003 > GREETING &lt;&lt; " and hello"
RuntimeError: can't modify frozen String
    from (irb):3
    from /home/kieran/.rvm/rubies/ruby-2.0.0-p353/bin/irb:12:in `&lt;main>'
</pre>


<p>But as you can see below, the Constant is still able to be re-assigned (but still gives us the warning).</p>

<pre name="code" class="ruby">2.0.0-p353 :004 > GREETING = "goodbye and hello"
(irb):4: warning: already initialized constant GREETING
(irb):1: warning: previous definition of GREETING was here
 => "goodbye and hello" 
</pre>


<p>As pointed out by Andrew, you can freeze the class constant that an object refers to which will stop it from being modified.</p>

<pre name="code" class="ruby">class Foo
BAR = 1
end

# Works
class Foo
BAR = 2
end

Foo.freeze

# Doesnâ€™t work
class Foo
BAR = 3
end
</pre>


<p>Some other useful things about class constants is how easily they can be accessed. Constants defined in a class can even be reached without creating an instance of the class. You can even dynamically call the constant if you have a reference to the Class variable that contains the constant. For example:</p>

<pre name="code" class="ruby">irb(main):005:0> class Work
irb(main):006:1> JOB = "Gardening"
irb(main):007:1> end
=> "Gardening"
irb(main):008:0> work = Work
=> Work
irb(main):009:0> work::JOB 
=> "Gardening"
</pre>


<p>Im still not certain on how useful constants are for settings that never change but I prefer using them to class methods that re-define hashes every time they are called or yaml files. They can sometimes make testing easier and other times harder.</p>

<p>Do you use constants much and how do you use them? Reply in the comments below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/01/a-story-from-guild-wars-2/">A Story From Guild Wars 2</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-03T00:00:00+10:30'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I really enjoy computer games, its my main form of entertainment in the evening and a great stress reliever. I get so much enjoyment out of it that I was inspired to write a short story from my perspective and I thought would share it with you. This is from Guild Wars 2 (some references are very game specific).</p>

<blockquote><p>I said my goodbyes the Militia on TeamSpeak and dropped my WvW Commander Tag, just after having defeated a Sanctum of Rall zerg.</p>

<p>What a good night, I thought.</p>

<p>A few weeks ago I got excited about some changes to WvW that I had missed and wanted to check them out. I had been enjoying the new Living Story content but wanted to do something a little different. I jumped into World vs World and the first thing I noticed was that on the Borderlands the lake is gone! This looked like a big change, but on further inspection its quite simple. Now in the middle of the map is a set of capture points that allow a server to get the upper hand if they capture 3 of the 5 points. I was told on TeamSpeak that this was to replace the old orb system.</p>

<p>I have been venturing onto BlackGate TeamSpeak server recently and its not as scary as I thought. I joined the channel for the borderland map I was on and I was pleasantly surprised by the commander which was on this same map. His name was Cuddlepie and had a good manner, running alongside him we ventured into enemy territory. We faced a big zerg almost twice our size that I thought we woudlnt be able to take on. Cuddlepie kept his cool and issued commands, like &#8220;head to the left then split them in half&#8221;, &#8220;take it to their backlines&#8221;. With his focus and strategy we where able to take down the entire zerg. What a rush!</p>

<p>We continued on and took several towers and keeps. I had a really good night. Later in the week I joined again and where greeted by another commander from a guild called KING and he had a different game plan. We defended garrison from several attacks and got lots of badges. There feels like they is always some action and some really good commanders that I feel like our strong ties with BlackGate WvW community are such an untapped resource.</p>

<p>Tonight, I jumped in and we where getting smashed by Jade Quarry. The commander tonight was Stellioz. I noticed the he has a philippines accent (I didnt know for a long while) and got really excited about WvW and showed some great skill in open field battles. The night continued on and I really enjoyed by time. He had to grab some dinner and we where left without a commander. I decided that I would give it a go, even though I didnt feel completely confident that I knew all of the current intel in WvW, I did it anyway as there where 5 Resonance online and in BlackGate TS so I thought &#8220;Why not?&#8221;. We where outnumbered and we took a few camps. We tried some things like some ninja trebs but the scouts where on to our plan. Later we defended our Tower several times against both Sancum and Jade. We responded to a Treb and took it out and saved our tower! Just as we saved our tower from an invading group we spotted a zerg bigger than ours.</p>

<p>We didnt have many numbers at this time in the night and I wasnt sure we where able to take them on. We tracked them to a chocked point. Then we engaged them once and they rallied behind the tower. Just as things go quiet, Stellioz came back from dinner and jumped in too. We spotted another group, this time bigger than the last! Stellioz said we could take them and offered some comments on how we would engage them.</p>

<p>We where off!</p>

<p>Running right into the thick of the battle, dropping some fire for might and blasting it on our way through. We focused the back lines and taking out the elles and the necros. A few of us dropped and our warriors threw down banners getting our downed up. It finally looked like we would win! We cleaned up the rest some backing and frowing and we took out the zerg.</p>

<p>The end.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/11/map-reduce-my-recent-talk/">Map Reduce: My Recent Talk</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-11T00:00:00+10:30'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently made a talk for Map Reduce with a focus on Ruby.</p>

<p>You can see the slideshow here</p>

<p><a title="http://slid.es/kieranandrews/map-reduce-in-ruby" href="http://slid.es/kieranandrews/map-reduce-in-ruby" target="_blank"></p> <p>
  <a href="http://slid.es/kieranandrews/map-reduce-in-ruby">http://slid.es/kieranandrews/map-reduce-in-ruby</a></a>
</p></p>

<p>
  </div>
  
  
    <footer>
      <a rel="full-article" href="/2013/11/map-reduce-my-recent-talk/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/09/the-mystical-tableless-model-for-rails/">The Mystical &#8220;Tableless&#8221; Model for Rails</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-09-11T00:00:00+09:30'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I had a bright idea for an improvement for the app I am currently working on. I have a Rails model that has only 2 rows in the database and the data is never changed, it has quite a lot of relationships and is used quite extensively. My idea was to remove the database out of the equasion and create a Model that would be entirely self dependent. Here I will show you my methods of maddness:</p>

<pre class="rails">def MyModel



  include ActiveModel::Validations

  include ActiveModel::Conversion

  extend ActiveModel::Naming



  def self.attr_accessor(*vars)

    @attributes ||= []

    @attributes.concat( vars )

    super

  end



  def self.attributes

   @attributes

  end



  def initialize(attributes={})

   attributes &#038;&#038; attributes.each do |name, value|

     send("#{name}=", value) if respond_to? name.to_sym

   end

  end



  def persisted?

    false

  end



  def self.inspect

    "#&lt;#{ self.to_s} #{ self.attributes.collect{ |e| ":#{ e }" }.join(', ') }>"

  end



end

</pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/12/startup-weekend-adelaide-my-experiences/">My Startup Weekend in Adelaide</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-12-14T00:00:00+10:30'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently attended <a href="http://adelaide.startupweekend.org/">startup weekend in Adelaide</a>. I was really excited because it would be a goodÂ opportunityÂ to build something and test my new skills I had learn recently <a href="http://tryruby.org/levels/1/challenges/0">programming ruby</a> (and using rails).</p>

<p>The weekend started on Friday night where attendees had the chance to pitch their ideas in a quick 1 minute pitch. There where some exciting ones. The ones that stood out for me was a pitch about a rating system for health careÂ professionalsÂ , a iPhone app to find and rate pubic toilets and a coffee rating app.</p>

<p>I decided to join the team doing rating and listing of health care as I though this would be really useful for lot of people if it was successful and seemed like something I could help and build a great MVP.</p>

<p>On the Saturday, after having formed our team on the Friday night, we where all ready to go. We had a really large group which became quite hard to manage at the start, we decided to break the group up into technology (MVP) and business so we would all.</p>

<p>In creating the initial product and setting up a starting point I made a few mistakes with setting up my project. Something that I found really useful and saved me a lot of trouble, was a ruby gem called <a href="https://github.com/RailsApps/rails-composer">Composer</a>. It gets a project up and running really quickly by asking you a series of questions of things that you might want to add to your project, like <a href="https://github.com/plataformatec/devise">Devise</a> for auth and <a href="http://twitter.github.com/bootstrap/">Twitter bootstrap</a>.</p>

<p>Wanting to get something up and running really quickly, Luke in our group recommended Heroku. I had never used it before but wanted to give it a go. I was really impressed! All you need to go is install the Heroku gem on your computer, run heroku init on the project and then type git push heroku and it is deployed in a matter of minutes! It runs bundle and install all of the gems in the gemfile and then spins up a server.</p>

<p>One of the elements of the weekend that I really enjoyed was the mentors Â that came to each group and provided insight into the various aspects of our project and how we could improve. This was really interesting to hear.</p>

<p>I made quite a bit of progress with the app and by the end I was able to make a simple way to lookup a directory of health care professionals. We used the app in our pitch at the end of the weekend. The other pitches where really good to watch and to see what all of the other teams had come up with over the weekend.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/08/php-debugging/">PHP Debugging</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-08-15T00:00:00+09:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently while working on a particular project we had some strange errors that came up. In the usual php like way, the error messages where not very helpful and didn&#8217;t allude to what the actual problem was. Have you seen an error like this before?</p>

<p><strong>Headers Already Sent on line 392<br/>
</strong></p>

<p><strong>Invalid argument supplied for foreach()</strong>&#8230;</p>

<p>Well, this handy functionality that I discovered in php made my life easier.</p>

<p><code>var_dump(debug_backtrace()); die;</code></p>

<p>I placed this right before the code that was complaining, and it allowed me to see where this function was being called from. I was then quickly able to fix the problem and be on my merry way.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/04/yii-and-authorization-rules-rbac/">Yii and Authorization Rules (RBAC)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-04-17T00:00:00+09:30'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One thing that has recently puzzled me with my discoveries of the Yii PHP framework is to do with how authentication rules work. (In particular RBAC)</p>

<p>I have been recently working on a big project for work that is quite complex with quite a few different systems that are all connected to each other. It also supports different devices, like the iPad and the iPhone. For this app it is important to restrict a user to a particular set of assets (that they create) and share these with other users in their company. To implement this, I stared by looking into the standard approach recommended by Yii documentation and that is the <a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.auth">Authorization Component</a>. On the implementation level, You have the option of either doing rules based on a file (<a href="http://www.yiiframework.com/doc/api/1.1/CPhpAuthManager">CPHPAuthManager</a>) or using a database backend (<a href="http://www.yiiframework.com/doc/api/1.1/CDbAuthManager">CDbAuthManager</a>).</p>

<p>After doing a bit of research, using the CPHPAuthManager for a large application is a bad idea. Everything is stored in a file and every time a access rule needs to be evaluated, this file will need to be checked. Also all role assignments are stored here, so if you have a large amount of users then there will be a lot of information stored in this file. This would make it unmanageable and wouldn&#8217;t scale very well for bigger applications.</p>

<p>It appears that CDbAuthManager would be the solution. What it does is store all of your access rules in the database. The auth manager will generate a pre-built database schema that Yii provides. The first thing I found was the component that is available in the Yii repositories called <a href="http://www.yiiframework.com/extension/rights/">yii-rights</a>. This extension allows you to manage your Authorization within the app and create access rules as needed. The problem with this is that its all held in the database and I would be deploying this application to the production server after testing it on the staging server and did not want to have to create access rules in both instances and have to update them every time we made any changes to the rules.</p>

<p>This is where we came up with the idea of using a console command to create all of our access rules. Yii has a great system for creating console commands you can run on the server, if you want to learn more, <a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.console">check this out</a>. This console command creates all of our access rules when run and stored them in the database so that we can version control our access rules and have them in one central place.</p>

<p>The problem I have with out current system is that the access rules have business rules that are evaluations to check the current user against the part of the system they are trying to access or modify. What I dont like is that the access rules are in the database and then eval&#8217;d by php at runtime. Now this is a bad idea and most in the php community would tell you to stay away from eval for most things. The question I have is, is this used well or could it have been done better?</p>

<p>If you have something to share that might shed some light on what I might have missed or another way to do it, post your comments below or post to my question on stackoverflow: <a href="http://stackoverflow.com/questions/9597287/what-is-the-reason-for-having-authorization-rules-in-the-database-in-yii-applica">http://stackoverflow.com/questions/9597287/what-is-the-reason-for-having-authorization-rules-in-the-database-in-yii-applica</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/09/rubymotion-android-beta-tip/">RubyMotion Android Beta Tip</a>
      </li>
    
      <li class="post">
        <a href="/2014/04/talk-introduction-to-mongodb-and-mongoid/">Talk: Introduction to Mongodb and Mongoid</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/330/">330</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/fun-with-ruby-constants/">Ruby Constants</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/a-story-from-guild-wars-2/">A Story From Guild Wars 2</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/TigerWolf">@TigerWolf</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'TigerWolf',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Kieran -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
